# 4. Jupiter 를활용해 배열과 데이터를 다루는 Numpy

- 디렉토리안에서 명령프롬프트를 실행하고, jupyter notebook을 실행시키면됨 그러면 홈페이지로 연결된다!
- 초기에 import numpy as np를 입력해줄 것
- array를 쓰는 이유 : 1. 동일 데이터타입   2. 중간에 빈공간없는 연속한 데이터이기 떄문

- 배열이름 =np.array(seq_data)
  - 시퀀스 데이터(리스트, 튜플 등 )을 배열로 변경
- 배열의 속성
  - dtype : 배열 요소의 데이터 타입
  - shape : 배열 모양(차원) 을 튜플로 표현 

---

## 1) 배열의 생성

```
data1 = [0, 1, 2, 3, 4, 5]
a1 = np.array(data1)
a1
a1.dtype

data2 = [0.1, 5, 4, 12, 0.5]
a2 = np.array(data2)
a2
a2.dtype

## 바로생성하기
np.array([0.5, 2, 0.01, 8])
np.array([[1,2,3], [4,5,6], [7,8,9]])
```

- 범위를 지정해 배열 생성

  - 배열이름 =np.arange([start,] stop[, step])
    - start부터 stop 전까지 step을 더해 배열을 생성
    - start 디폴트는 0 , step 디폴트는 1

  ```
  np.arange(0, 10, 2) :array([0, 2, 4, 6, 8])
  np.arange(1, 10) :array([1, 2, 3, 4, 5, 6, 7, 8, 9])
  np.arange(5) :array([0, 1, 2, 3, 4])
  ```

  - reshape(m, n)
    - 배열의 차원 조정
    - m x n 형태로 변경
    - 데이터의 개수가 맞아야 함

  ```
  np.arange(12).reshape(4,3) : array([[ 0, 1, 2],
                                      [ 3, 4, 5],
                                      [ 6, 7, 8],
                                      [ 9, 10, 11]])
                                      
  
  b1 = np.arange(12).reshape(4,3)
  b1.shape :(4,3)
  
  b2 = np.arange(5)
  b2.shape :(5,)
  ```

  - 이름 = np.linspace(start, stop [num])
    - **균등분할이며 stop을 포함한다!!!!** num개의 numpy 생성
    - num 디폴트 값은 1

  ```
  np.linspace(1, 10, 10)
  : array([ 1., 2., 3., 4., 5., 6., 7., 8., 9., 10.])
  
  np.linspace(0, np.pi, 20 )
  ```

  

- 특별한 형태 배열 생성

  - arr_zero_n = np.zeros(n)
  - arr_zero_mxn = np.zeros((m,n))
    - 원소가 0인 배열 생성
  - arr_one_n = np.ones(n)
  - arr_one_mxn = np.ones((m,n))
    - 원소가 1인 배열 생성

  - 단위행렬 생성 n x n
    - 행렬 = np.eye(n)



## 2) 배열 타입 변환

- 배열의 데이터 타입 기호
  - b : 불
  - i : 부호가 있는 정수
  - u : 부호가 없는 정수
  - f : 실수
  - c : 복소수
  - M : 날짜
  - O : 파이썬 객체
  - S :혹은 a : 바이트 배열
  - U : 유니코드
- **배열이름 = astype(타입)**
  - 배열을 지정한 타입으로 변환

```
np.array(['1.5', '0.62', '2', '3.14', '3.141592'])

str_a1 = np.array(['1.567', '0.123', '5.123', '9', '8'])
num_a1 = str_a1.astype(float)
num_a1  : float형식으로 바꿔줌

str_a2 = np.array(['1', '3', '5', '7', '9'])
num_a2 = str_a2.astype(int)
num_a2  : 문자열을 int로 바꿔줌   >>> int하면 소수점은 버림 해버린다!

```



## 3) 배열의 연산

- 파이썬에서 +는 뒤에 붙이는거지만 여기선 진짜 연산임

```
arr1 = np.array([10, 20, 30, 40])
arr2 = np.array([1, 2, 3, 4])

arr1 + arr2
arr1 - arr2
arr2 * 2
arr2 ** 2   : 2승
arr1 * arr2
arr1 / arr2
arr1 / (arr2 ** 2)
arr1 > 20   :boolean 타입으로 결과나옴
```





## 4) 배열의 인덱싱과 슬라이싱

- 배열명[위치]

- 배열명[[위치1, 위치 2, ... , 위치n]]

  - 해당 차원의 여러 원소 선택

- 배열명[행위치, 열위치]

- 배열명[행위치1,행위치2,행위치...

  ​			열위치1,열위치2,열위치 ,,,]

  - 2차원 배열의 여러 원소를 선택

- 배열명[조건식]

  - 해당 조건식을 만족하는 원소만 선택된 배열

```
a1 = np.array([0, 10, 20, 30, 40, 50])

a1[0]
a1[5] = 70   :바꾸기가능
a1[[1,3,4]]  :array([10, 30, 40])   1차원에서 추출

----

a2 = np.arange(10, 100, 10).reshape(3,3)
a2
out :array([[10, 20, 30],
            [40, 50, 60],
            [70, 80, 90]])
            
a2[0, 2] : 30 (row,column)
a2[2, 2] = 95
a2 : array([[10, 20, 30],
            [40, 50, 60],
            [70, 80, 95]])

a2[1]  : array([40, 50, 60])   - 1번째 row 차원만 가져온다.

```

```
a2[1] = np.array([45, 55, 65])  : row 한개를 바꿀 수 도있다
a2[1] = [47, 57, 67]			: 바꾸는 또다른 방법

a2[[0, 2], [0, 1]]  : 이렇게하면 array([10, 80])  내용을 뽑아서 새로운거 만들어줌


a = np.array([1, 2, 3, 4, 5, 6])
a[a > 3]						: 3보다 큰거만 보여줌

a[(a % 2) == 0] 				: 짝수만 보여줌
```



- 슬라이싱  : 파이썬과 동일하다
  - 배열[시작위치:끝_위치]
    - 시작_위치 생략시 0
    - 끝_위치 생력시 배열의 끝
  - 배열[행시작위치 : 행끝위치, 열시작위치:열끝위치]
    - 2차원슬라이싱임

```
b1 = np.array([0, 10, 20, 30, 40, 50])
b1[1:4]  : array([10, 20, 30])
b1[:3]   : array([ 0, 10, 20])
b1[2:]	 : array([20, 30, 40, 50])

---
2차원 슬라이싱
b2 = np.arange(10, 100, 10).reshape(3,3)
b2 : array([[10, 20, 30],
            [40, 50, 60],
            [70, 80, 90]])

b2[1:3, 1:3] : array([[50, 60],
					 [80, 90]])

b2[:3, 1:] : array([[20, 30],
                    [50, 60],
                    [80, 90]])
                    
b2[1][0:2] : array([40, 50])


b2[0:2, 1:3] = np.array([[25, 35], [55, 65]])   2차원 행렬 바꾸기
b2 :array([[10, 25, 35],
            [40, 55, 65],
            [70, 80, 90]])


 
```

